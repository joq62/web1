<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8"/>
	<title>Websocket client</title>
</head>

<body>

<div id="info"></div>
<input type="text" id="myInput" value="" oninput="input1()">
<br>
<button type="button" onclick="sendTxt();">send</button>

<script>
    var ws = new WebSocket("ws://localhost:8080/please_upgrade_to_websocket");

    ws.onerror = function(event) {
        console.error("[ME]WebSocket error observed:", event);
    };
    ws.onclose = function(event) {
        console.log("[ME]WebSocket is closed now.");
    };


    ws.onmessage = function (event) {
        //alert("Data was retrieved from server and will be inserted in page.");
	//		console.log(event.data);
			document.getElementById('info').innerHTML=event.data;
  //    $("#server_info").text(event.data);

    };
// Joqs own golden code
function input1(){
	console.log("input1");
};
function sendTxt(){
	console.log("sendTxt");
		ws.send("David, nu funkar websockets!!!!");

};
   </script>


</html>
